{% extends '_partials/index.twig' %}

{% block head %}
    {{ parent() }}

    {{ css.inline('resources/css/blog.scss')|raw }}
    {{ css.inline('resources/css/overview.scss')|raw }}
{% endblock %}

{% block content %}
    <header>
        <h1>
            stitcher.io
        </h1>

        <p>
            Hi! My name is Brent, I'm a programmer living in Belgium.
            I write about the web, PHP and programming in general.
        </p>

        <p class="links">
            <small>
                <a href="https://twitter.com/brendt_gd" target="_blank" rel="noopener noreferrer">Twitter</a> —
                <a href="/rss" target="_blank" rel="noopener noreferrer">RSS</a> —
                <a href="/signup" target="_blank" rel="noopener noreferrer">Newsletter</a> —
                <a href="https://www.patreon.com/brendt" target="_blank" rel="noopener noreferrer">Patreon</a> —
                <a href="https://github.com/brendt" target="_blank" rel="noopener noreferrer">GitHub</a>
            </small>
        </p>
    </header>

    <nav class="overview">

        <a href="/blog/starting-a-newsletter" class="highlight small">
            <h1>Update: I'm starting a newsletter!</h1>

            <div>
                {% if post.meta.description is defined and post.meta.description %}
                    <p>
                        {{ post.meta.description }}
                    </p>
                {% endif %}

                {% if post.date is defined %}
                    <aside>
                        {{ post.date|date("F d, Y") }}
                    </aside>
                {% endif %}
            </div>
        </a>

        {% for post in posts %}
            {% if post.hidden is not defined or post.hidden == false %}
                <a href="/blog/{{ post.id }}" {% if post.highlight is defined and post.highlight %}class="highlight"{% endif %}>
                    {% if post.title is defined %}
                        <h1>
                            {{ post.title }}
                        </h1>
                    {% endif %}

                    <div>
                        {% if post.meta.description is defined and post.meta.description %}
                            <p>
                                {{ post.meta.description }}
                            </p>
                        {% endif %}

                        {% if post.date is defined %}
                            <aside>
                                {{ post.date|date("F d, Y") }}
                            </aside>
                        {% endif %}
                    </div>
                </a>
            {% endif %}
        {% endfor %}
    </nav>

    <footer>
        <nav>
            {% if _pagination.previous.url %}
                <a href="{{ _pagination.previous.url }}" class="prev cta cta-light">
                    Previous
                </a>
            {% endif %}

            {% if _pagination.next.url %}
                <a href="{{ _pagination.next.url }}" class="next cta cta-light">
                    Next
                </a>
            {% endif %}
        </nav>

        {% include '_partials/links.twig' %}
    </footer>
{% endblock %}
